const _0x31607c=_0x28d1;(function(_0x312945,_0x14e739){const _0x4e16ef=_0x28d1,_0x45151a=_0x312945();while(!![]){try{const _0xea4c6c=-parseInt(_0x4e16ef(0x20b))/0x1+parseInt(_0x4e16ef(0x20a))/0x2+-parseInt(_0x4e16ef(0x20d))/0x3*(parseInt(_0x4e16ef(0x1f4))/0x4)+parseInt(_0x4e16ef(0x205))/0x5+-parseInt(_0x4e16ef(0x218))/0x6*(parseInt(_0x4e16ef(0x20e))/0x7)+parseInt(_0x4e16ef(0x220))/0x8*(-parseInt(_0x4e16ef(0x1f0))/0x9)+parseInt(_0x4e16ef(0x1ee))/0xa;if(_0xea4c6c===_0x14e739)break;else _0x45151a['push'](_0x45151a['shift']());}catch(_0x92417e){_0x45151a['push'](_0x45151a['shift']());}}}(_0x5c70,0xc1db0));function _0x28d1(_0x5a6ba2,_0x41b604){const _0x5c702c=_0x5c70();return _0x28d1=function(_0x28d11c,_0x5bff3a){_0x28d11c=_0x28d11c-0x1eb;let _0x4ac882=_0x5c702c[_0x28d11c];return _0x4ac882;},_0x28d1(_0x5a6ba2,_0x41b604);}function _0x5c70(){const _0x2fd65a=['.jpg','writeUIntLE','concat','200ZrxwXC','exif','end','https://github.com/DikaArdnt/Hisoka-Morou','writeFileSync','00:00:00','join','26681530FXvWHr','save','505755YNiGdA','load','-ss','path','2308508LPHAII','toFormat','packname','readFileSync','exports','from','unlinkSync','libwebp','length','webp','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','-loop','.webp','.mp4','randomBytes','Image','crypto','1422650GxwPvb','fluent-ffmpeg','categories','error','-preset','2452768MaKZCG','56692totoFj','readUIntLE','6NQGrpD','5384498BVZpxS','00:00:05','toString','addOutputOptions','-vcodec','mimetype','default','test','utf-8','stringify','6BLYqKp','node-webpmux','-vf','data','author'];_0x5c70=function(){return _0x2fd65a;};return _0x5c70();}const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(_0x31607c(0x204)),ff=require(_0x31607c(0x206)),webp=require(_0x31607c(0x219)),path=require(_0x31607c(0x1f3));async function imageToWebp(_0x32dba7){const _0x43d5a7=_0x31607c,_0x18d9ca=path[_0x43d5a7(0x1ed)](tmpdir(),Crypto[_0x43d5a7(0x202)](0x6)[_0x43d5a7(0x20c)](0x0,0x6)[_0x43d5a7(0x210)](0x24)+_0x43d5a7(0x200)),_0x534070=path[_0x43d5a7(0x1ed)](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)[_0x43d5a7(0x210)](0x24)+_0x43d5a7(0x21d));fs['writeFileSync'](_0x534070,_0x32dba7),await new Promise((_0x41d10c,_0x500d58)=>{const _0x194f9f=_0x43d5a7;ff(_0x534070)['on']('error',_0x500d58)['on'](_0x194f9f(0x222),()=>_0x41d10c(!![]))[_0x194f9f(0x211)]([_0x194f9f(0x212),_0x194f9f(0x1fb),_0x194f9f(0x21a),'scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse'])[_0x194f9f(0x1f5)]('webp')['save'](_0x18d9ca);});const _0x23d42c=fs['readFileSync'](_0x18d9ca);return fs['unlinkSync'](_0x18d9ca),fs[_0x43d5a7(0x1fa)](_0x534070),_0x23d42c;}async function videoToWebp(_0x5e5bdd){const _0x361a08=_0x31607c,_0x504d27=path[_0x361a08(0x1ed)](tmpdir(),Crypto[_0x361a08(0x202)](0x6)[_0x361a08(0x20c)](0x0,0x6)['toString'](0x24)+_0x361a08(0x200)),_0x2d69c5=path['join'](tmpdir(),Crypto[_0x361a08(0x202)](0x6)[_0x361a08(0x20c)](0x0,0x6)[_0x361a08(0x210)](0x24)+_0x361a08(0x201));fs[_0x361a08(0x1eb)](_0x2d69c5,_0x5e5bdd),await new Promise((_0x4298ea,_0x2cf059)=>{const _0x4dbfb6=_0x361a08;ff(_0x2d69c5)['on'](_0x4dbfb6(0x208),_0x2cf059)['on'](_0x4dbfb6(0x222),()=>_0x4298ea(!![]))[_0x4dbfb6(0x211)](['-vcodec',_0x4dbfb6(0x1fb),_0x4dbfb6(0x21a),_0x4dbfb6(0x1fe),_0x4dbfb6(0x1ff),'0',_0x4dbfb6(0x1f2),_0x4dbfb6(0x1ec),'-t',_0x4dbfb6(0x20f),_0x4dbfb6(0x209),_0x4dbfb6(0x214),'-an','-vsync','0'])[_0x4dbfb6(0x1f5)](_0x4dbfb6(0x1fd))[_0x4dbfb6(0x1ef)](_0x504d27);});const _0x583169=fs[_0x361a08(0x1f7)](_0x504d27);return fs['unlinkSync'](_0x504d27),fs['unlinkSync'](_0x2d69c5),_0x583169;}async function writeExifImg(_0x4b8e64,_0x3f4772){const _0x987554=_0x31607c;let _0x5d00db=await imageToWebp(_0x4b8e64);const _0x239edb=path[_0x987554(0x1ed)](tmpdir(),Crypto['randomBytes'](0x6)[_0x987554(0x20c)](0x0,0x6)[_0x987554(0x210)](0x24)+_0x987554(0x200)),_0x204703=path[_0x987554(0x1ed)](tmpdir(),Crypto[_0x987554(0x202)](0x6)[_0x987554(0x20c)](0x0,0x6)[_0x987554(0x210)](0x24)+'.webp');fs[_0x987554(0x1eb)](_0x239edb,_0x5d00db);if(_0x3f4772['packname']||_0x3f4772['author']){const _0xce9c48=new webp[(_0x987554(0x203))](),_0x56a7bd={'sticker-pack-id':_0x987554(0x223),'sticker-pack-name':_0x3f4772[_0x987554(0x1f6)],'sticker-pack-publisher':_0x3f4772[_0x987554(0x21c)],'emojis':_0x3f4772['categories']?_0x3f4772[_0x987554(0x207)]:['']},_0x2b978b=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x137243=Buffer[_0x987554(0x1f9)](JSON['stringify'](_0x56a7bd),_0x987554(0x216)),_0x274a1b=Buffer['concat']([_0x2b978b,_0x137243]);return _0x274a1b[_0x987554(0x21e)](_0x137243['length'],0xe,0x4),await _0xce9c48[_0x987554(0x1f1)](_0x239edb),fs[_0x987554(0x1fa)](_0x239edb),_0xce9c48[_0x987554(0x221)]=_0x274a1b,await _0xce9c48[_0x987554(0x1ef)](_0x204703),_0x204703;}}async function writeExifVid(_0x4554c3,_0x15dc02){const _0x5c5b95=_0x31607c;let _0x4bb8d1=await videoToWebp(_0x4554c3);const _0x583658=path[_0x5c5b95(0x1ed)](tmpdir(),Crypto[_0x5c5b95(0x202)](0x6)['readUIntLE'](0x0,0x6)[_0x5c5b95(0x210)](0x24)+_0x5c5b95(0x200)),_0x202c48=path[_0x5c5b95(0x1ed)](tmpdir(),Crypto[_0x5c5b95(0x202)](0x6)[_0x5c5b95(0x20c)](0x0,0x6)['toString'](0x24)+'.webp');fs[_0x5c5b95(0x1eb)](_0x583658,_0x4bb8d1);if(_0x15dc02[_0x5c5b95(0x1f6)]||_0x15dc02[_0x5c5b95(0x21c)]){const _0x5a9d6d=new webp[(_0x5c5b95(0x203))](),_0x38ea97={'sticker-pack-id':_0x5c5b95(0x223),'sticker-pack-name':_0x15dc02[_0x5c5b95(0x1f6)],'sticker-pack-publisher':_0x15dc02[_0x5c5b95(0x21c)],'emojis':_0x15dc02['categories']?_0x15dc02['categories']:['']},_0x17c9a8=Buffer[_0x5c5b95(0x1f9)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x1fba89=Buffer[_0x5c5b95(0x1f9)](JSON[_0x5c5b95(0x217)](_0x38ea97),_0x5c5b95(0x216)),_0x5f361c=Buffer[_0x5c5b95(0x21f)]([_0x17c9a8,_0x1fba89]);return _0x5f361c['writeUIntLE'](_0x1fba89['length'],0xe,0x4),await _0x5a9d6d['load'](_0x583658),fs[_0x5c5b95(0x1fa)](_0x583658),_0x5a9d6d[_0x5c5b95(0x221)]=_0x5f361c,await _0x5a9d6d[_0x5c5b95(0x1ef)](_0x202c48),_0x202c48;}}async function writeExif(_0x2ee080,_0x5166e6){const _0x2bdebe=_0x31607c;let _0x59272e=/webp/['test'](_0x2ee080[_0x2bdebe(0x213)])?_0x2ee080['data']:/image/['test'](_0x2ee080[_0x2bdebe(0x213)])?await imageToWebp(_0x2ee080[_0x2bdebe(0x21b)]):/video/[_0x2bdebe(0x215)](_0x2ee080[_0x2bdebe(0x213)])?await videoToWebp(_0x2ee080[_0x2bdebe(0x21b)]):'';const _0x35ce99=path[_0x2bdebe(0x1ed)](tmpdir(),Crypto[_0x2bdebe(0x202)](0x6)[_0x2bdebe(0x20c)](0x0,0x6)[_0x2bdebe(0x210)](0x24)+_0x2bdebe(0x200)),_0x5a478a=path[_0x2bdebe(0x1ed)](tmpdir(),Crypto[_0x2bdebe(0x202)](0x6)[_0x2bdebe(0x20c)](0x0,0x6)['toString'](0x24)+_0x2bdebe(0x200));fs['writeFileSync'](_0x35ce99,_0x59272e);if(_0x5166e6[_0x2bdebe(0x1f6)]||_0x5166e6[_0x2bdebe(0x21c)]){const _0x4a7953=new webp['Image'](),_0x30d1a7={'sticker-pack-id':_0x2bdebe(0x223),'sticker-pack-name':_0x5166e6[_0x2bdebe(0x1f6)],'sticker-pack-publisher':_0x5166e6[_0x2bdebe(0x21c)],'emojis':_0x5166e6[_0x2bdebe(0x207)]?_0x5166e6[_0x2bdebe(0x207)]:['']},_0xc63e1b=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x562626=Buffer['from'](JSON[_0x2bdebe(0x217)](_0x30d1a7),_0x2bdebe(0x216)),_0x14c79f=Buffer[_0x2bdebe(0x21f)]([_0xc63e1b,_0x562626]);return _0x14c79f[_0x2bdebe(0x21e)](_0x562626[_0x2bdebe(0x1fc)],0xe,0x4),await _0x4a7953[_0x2bdebe(0x1f1)](_0x35ce99),fs[_0x2bdebe(0x1fa)](_0x35ce99),_0x4a7953[_0x2bdebe(0x221)]=_0x14c79f,await _0x4a7953[_0x2bdebe(0x1ef)](_0x5a478a),_0x5a478a;}}module[_0x31607c(0x1f8)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif};
